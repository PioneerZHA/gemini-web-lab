<!DOCTYPE html>
<html lang="zh-CN" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visionary | Immersive Portfolio</title>
    
    <!-- 1. 字体 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Noto+Sans+SC:wght@300;400;700&display=swap" rel="stylesheet">
    
    <!-- 2. Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: { 
                        sans: ['Inter', 'Noto Sans SC', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace']
                    },
                    colors: {
                        'void': '#050505',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #050505;
            color: #f5f5f7;
            overflow-x: hidden; /* 隐藏横向滚动 */
            margin: 0;
        }

        /* 隐藏原生滚动条，使用 Lenis 代理 */
        html.lenis, html.lenis body { height: auto; }
        .lenis.lenis-smooth { scroll-behavior: auto !important; }
        .lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; }
        .lenis.lenis-stopped { overflow: hidden; }
        .lenis.lenis-scrolling iframe { pointer-events: none; }
        ::-webkit-scrollbar { width: 0px; }

        /* 噪点纹理 */
        .noise-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48ZmlsdGVyIGlkPSJnoiPjxmZVR1cmJ1bGVuY2UgdHlwZT0iZnJhY3RhbE5vaXNlIiBiYXNlRnJlcXVlbmN5PSIwLjY1IiBudW1PY3RhdmVzPSIzIiBzdGl0Y2hUaWxlcz0ic3RpdGNoIi8+PC9maWx0ZXI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsdGVyPSJ1cmwoI2cpIiBvcGFjaXR5PSIwLjAzIi8+PC9zdmc+');
            pointer-events: none;
            z-index: 90;
            opacity: 0.4;
        }

        /* --- 核心：卡片层叠容器 --- */
        .cards-wrapper {
            position: relative;
            width: 100%;
        }
        
        .stack-card {
            position: sticky; /* 粘性定位是基础 */
            top: 0;
            height: 100vh;
            width: 100%;
            overflow: hidden;
            background-color: #050505;
            display: flex;
            flex-direction: column;
            justify-content: center;
            /* 阴影为了区分层级 */
            box-shadow: 0 -50px 80px -20px rgba(0,0,0,0.8);
            border-top: 1px solid rgba(255,255,255,0.08);
            transform-origin: center top; /* 缩放的原点在顶部中心 */
            will-change: transform, filter; /* 性能优化 */
        }

        /* 语言切换按钮 */
        .lang-switch-btn {
            position: relative;
            width: 80px;
            height: 32px;
            background: rgba(255,255,255,0.05);
            border-radius: 999px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 4px;
            cursor: pointer;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            transition: 0.3s;
        }
        .lang-switch-btn:hover { background: rgba(255,255,255,0.1); border-color: rgba(255,255,255,0.3); }
        .lang-indicator {
            position: absolute; left: 4px; width: 36px; height: 24px;
            background: #fff; border-radius: 999px;
            transition: transform 0.4s cubic-bezier(0.22, 1, 0.36, 1);
        }
        .lang-text { z-index: 10; font-size: 12px; font-weight: 600; width: 36px; text-align: center; transition: color 0.3s; user-select: none; }
        .lang-switch-btn[data-lang="EN"] .text-en { color: black; }
        .lang-switch-btn[data-lang="EN"] .text-cn { color: #666; }
        .lang-switch-btn[data-lang="CN"] .text-en { color: #666; }
        .lang-switch-btn[data-lang="CN"] .text-cn { color: black; }
        .lang-switch-btn[data-lang="CN"] .lang-indicator { transform: translateX(36px); }

        /* Bento Grid */
        .bento-card {
            background: linear-gradient(145deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 100%);
            border: 1px solid rgba(255,255,255,0.05);
            transition: 0.4s ease-out;
        }
        .bento-card:hover { border-color: rgba(255,255,255,0.2); background: rgba(255,255,255,0.05); }
    </style>
</head>
<body>

    <div class="noise-overlay"></div>

    <!-- 导航栏 -->
    <nav class="fixed top-0 w-full z-[100] px-6 py-6 flex justify-between items-center mix-blend-exclusion text-white">
        <div class="text-xl font-bold tracking-tighter">DEV.IO</div>
        <div class="flex items-center gap-6">
            <div class="hidden md:flex gap-6 text-sm font-medium text-gray-400">
                <a href="#home" class="hover:text-white transition-colors lang-item" data-key="nav_home">首页</a>
                <a href="#work" class="hover:text-white transition-colors lang-item" data-key="nav_work">作品</a>
                <a href="#contact" class="hover:text-white transition-colors lang-item" data-key="nav_contact">联系</a>
            </div>
            <div class="lang-switch-btn" id="langToggle" data-lang="CN">
                <div class="lang-indicator"></div>
                <span class="lang-text text-en">EN</span>
                <span class="lang-text text-cn">中</span>
            </div>
        </div>
    </nav>

    <!-- 这里的容器包裹所有卡片 -->
    <div class="cards-wrapper">

        <!-- SECTION 1: HERO -->
        <section id="home" class="stack-card z-10">
            <div class="absolute top-0 w-full h-full bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-blue-900/20 via-void to-void opacity-70"></div>
            <div class="px-6 md:px-20 relative parallax-content">
                <h1 class="text-6xl md:text-9xl font-bold tracking-tight leading-none mb-8">
                    <span class="block lang-item" data-key="hero_line1">构建</span>
                    <span class="block text-gray-600 lang-item" data-key="hero_line2">数字未来.</span>
                </h1>
                <p class="text-xl md:text-2xl text-gray-400 max-w-2xl leading-relaxed lang-item" data-key="hero_desc">
                    体验至上的全栈工程师。让代码富有诗意，让交互充满生命。
                </p>
                <div class="mt-12 animate-bounce text-gray-600">↓ SCROLL</div>
            </div>
        </section>

        <!-- SECTION 2: PHILOSOPHY -->
        <section class="stack-card z-20 bg-[#080808]">
            <div class="px-6 md:px-20 flex flex-col items-center text-center parallax-content">
                <div class="max-w-4xl">
                    <h2 class="text-sm font-mono text-blue-500 mb-6 lang-item" data-key="about_tag">/ 理念</h2>
                    <p class="text-3xl md:text-6xl font-medium leading-tight text-gray-400">
                        <span class="text-white lang-item" data-key="about_highlight">代码不仅是逻辑，更是艺术。</span>
                        <br class="hidden md:block" />
                        <span class="lang-item text-2xl md:text-4xl mt-4 block" data-key="about_text">每一次微小的交互动画，<br>都是对完美的极致追求。</span>
                    </p>
                </div>
            </div>
        </section>

        <!-- SECTION 3: WORK -->
        <section id="work" class="stack-card z-30 bg-[#0a0a0a]">
            <div class="px-6 md:px-20 w-full h-full flex flex-col justify-center parallax-content">
                <div class="flex justify-between items-end mb-8">
                    <h2 class="text-4xl md:text-7xl font-bold lang-item" data-key="work_title">精选作品</h2>
                    <span class="text-gray-500 font-mono hidden md:block">2023 — 2025</span>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 h-[60vh]">
                    <div class="bento-card md:col-span-2 rounded-3xl p-8 relative overflow-hidden group cursor-pointer flex flex-col justify-between">
                        <div class="z-10">
                            <div class="text-xs font-mono border border-white/20 w-fit px-2 py-1 rounded-full mb-4">FINTECH</div>
                            <h3 class="text-3xl font-bold lang-item" data-key="proj1_title">明日银行</h3>
                        </div>
                        <div class="absolute right-[-20px] bottom-[-20px] w-[60%] h-[60%] bg-gradient-to-tl from-blue-600/30 to-transparent rounded-tl-full transition-transform group-hover:scale-110"></div>
                    </div>
                    <div class="bento-card md:col-span-1 rounded-3xl p-6 relative overflow-hidden group flex flex-col justify-end">
                        <h3 class="text-2xl font-bold lang-item" data-key="proj2_title">AI 助手 X</h3>
                        <div class="absolute inset-0 bg-gradient-to-t from-purple-900/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
                    </div>
                    <div class="bento-card md:col-span-1 rounded-3xl p-6 relative overflow-hidden group flex flex-col justify-end">
                        <h3 class="text-2xl font-bold lang-item" data-key="proj3_title">极简电商</h3>
                    </div>
                    <div class="bento-card md:col-span-2 rounded-3xl p-8 flex items-center relative overflow-hidden group">
                        <h3 class="text-3xl font-bold z-10 lang-item" data-key="proj4_title">设计系统 2.0</h3>
                        <div class="absolute right-10 w-32 h-32 bg-white/5 rounded-full blur-2xl group-hover:bg-white/10 transition-colors"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 4: CONTACT -->
        <section id="contact" class="stack-card z-40 bg-white text-black">
            <div class="px-6 md:px-20 flex flex-col items-center justify-center parallax-content text-center">
                <p class="text-sm font-bold uppercase tracking-widest mb-4 text-gray-500 lang-item" data-key="contact_sub">下一步?</p>
                <h2 class="text-6xl md:text-9xl font-black mb-8 tracking-tighter hover:text-blue-600 transition-colors cursor-pointer lang-item" data-key="contact_main">开始对话</h2>
                <a href="mailto:hi@example.com" class="text-xl md:text-2xl border-b-2 border-black pb-1 hover:text-blue-600 hover:border-blue-600 transition-colors">hi@developer.com</a>
            </div>
            <div class="absolute bottom-10 w-full px-6 md:px-20 flex justify-between text-sm font-medium text-gray-400">
                <span>&copy; 2025</span>
                <span class="lang-item" data-key="footer_credit">Designed & Coded by You.</span>
            </div>
        </section>

    </div>

    <!-- 脚本库 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <!-- Lenis 平滑滚动核心库 -->
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <script>
        // 注册 GSAP 插件
        gsap.registerPlugin(ScrollTrigger);

        // --- 1. 初始化 Lenis 平滑滚动 ---
        const lenis = new Lenis({
            duration: 1.2, // 滚动持续时间（惯性大小）
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)), // 缓动函数
            smooth: true,
            wheelMultiplier: 1, // 滚轮速度倍率
        });

        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);

        // --- 2. 核心动画：卡片堆叠 + 景深缩放 (Scale Down Effect) ---
        const cards = gsap.utils.toArray(".stack-card");
        
        cards.forEach((card, i) => {
            // 排除最后一张卡片，因为它不需要缩小
            if (i === cards.length - 1) return;

            // 动画逻辑：当下一张卡片滑上来覆盖当前卡片时
            gsap.to(card, {
                scale: 0.93,       // 当前卡片缩小到 93%
                opacity: 0.5,      // 变暗
                filter: "blur(10px)", // 变模糊
                transformOrigin: "center top", // 顶部对齐缩放，防止顶部露馅
                ease: "none",      // 必须是 none，因为进度由滚动条控制
                scrollTrigger: {
                    trigger: card,      // 触发对象是当前卡片
                    start: "top top",   // 当卡片顶部到达视口顶部时开始
                    end: "bottom top",  // 当卡片底部离开视口顶部时结束
                    scrub: true,        // 动画进度绑定滚动条
                    pin: false,         // 不需要 GSAP pin，因为我们用了 CSS sticky
                    // markers: true    // 调试用
                }
            });
        });

        // --- 3. 视差效果 (Parallax) ---
        // 让卡片内部的内容比背景滚动得稍微慢一点/快一点，制造悬浮感
        document.querySelectorAll(".parallax-content").forEach(content => {
            gsap.fromTo(content, 
                { y: 0 },
                {
                    y: -50, // 内容稍微上移
                    scrollTrigger: {
                        trigger: content.parentElement,
                        start: "top bottom",
                        end: "bottom top",
                        scrub: 1
                    }
                }
            );
        });

        // --- 4. 语言切换逻辑 (保持原有高级感模糊) ---
        const translations = {
            CN: {
                nav_home: "首页", nav_work: "作品", nav_contact: "联系",
                hero_line1: "构建", hero_line2: "数字未来.",
                hero_desc: "体验至上的全栈工程师。让代码富有诗意，让交互充满生命。",
                about_tag: "/ 理念", about_highlight: "代码不仅是逻辑，更是艺术。",
                about_text: "每一次微小的交互动画，<br>都是对完美的极致追求。",
                work_title: "精选作品",
                proj1_title: "明日银行", proj2_title: "AI 助手 X", proj3_title: "极简电商", proj4_title: "设计系统 2.0",
                contact_sub: "下一步?", contact_main: "开始对话", footer_credit: "设计与编码 by You."
            },
            EN: {
                nav_home: "Home", nav_work: "Work", nav_contact: "Contact",
                hero_line1: "Crafting", hero_line2: "Digital Reality.",
                hero_desc: "Experience-first Full Stack Developer. Making code poetic and interactions alive.",
                about_tag: "/ PHILOSOPHY", about_highlight: "Code is not just logic, it's art.",
                about_text: "Every micro-interaction is <br>a pursuit of perfection.",
                work_title: "Selected Work",
                proj1_title: "NeoBank", proj2_title: "Copilot X", proj3_title: "Zen Commerce", proj4_title: "Design System 2.0",
                contact_sub: "WHAT'S NEXT?", contact_main: "Let's Talk", footer_credit: "Designed & Coded by You."
            }
        };

        const langBtn = document.getElementById('langToggle');
        let currentLang = 'CN';

        langBtn.addEventListener('click', () => {
            currentLang = currentLang === 'CN' ? 'EN' : 'CN';
            langBtn.setAttribute('data-lang', currentLang);

            const elements = document.querySelectorAll('.lang-item');

            // 模糊淡出
            gsap.to(elements, {
                duration: 0.3,
                opacity: 0,
                filter: "blur(8px)", 
                stagger: 0.01, 
                ease: "power2.in",
                onComplete: () => {
                    elements.forEach(el => {
                        const key = el.getAttribute('data-key');
                        if (translations[currentLang][key]) {
                            el.innerHTML = translations[currentLang][key]; // 用 innerHTML 以支持 <br>
                        }
                    });
                    // 清晰淡入
                    gsap.to(elements, {
                        duration: 0.5,
                        opacity: 1,
                        filter: "blur(0px)",
                        stagger: 0.02,
                        ease: "power2.out"
                    });
                }
            });
        });

    </script>
</body>
</html>